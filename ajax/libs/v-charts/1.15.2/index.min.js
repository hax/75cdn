!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("echarts/lib/echarts"),require("echarts/lib/component/tooltip"),require("echarts/lib/component/legend"),require("echarts/lib/chart/bar"),require("echarts/lib/chart/line"),require("echarts/lib/chart/pie"),require("echarts/lib/chart/funnel"),require("echarts/lib/chart/radar"),require("echarts/lib/chart/map"),require("echarts/extension/bmap/bmap"),require("echarts-amap"),require("echarts/lib/chart/sankey"),require("echarts/lib/chart/heatmap"),require("echarts/lib/component/visualMap"),require("echarts/lib/chart/scatter"),require("echarts/lib/chart/candlestick"),require("echarts/lib/component/dataZoom"),require("echarts/lib/chart/gauge")):"function"==typeof define&&define.amd?define(["echarts/lib/echarts","echarts/lib/component/tooltip","echarts/lib/component/legend","echarts/lib/chart/bar","echarts/lib/chart/line","echarts/lib/chart/pie","echarts/lib/chart/funnel","echarts/lib/chart/radar","echarts/lib/chart/map","echarts/extension/bmap/bmap","echarts-amap","echarts/lib/chart/sankey","echarts/lib/chart/heatmap","echarts/lib/component/visualMap","echarts/lib/chart/scatter","echarts/lib/chart/candlestick","echarts/lib/component/dataZoom","echarts/lib/chart/gauge"],t):e.VeIndex=t(e.echarts)}(this,function(e){"use strict";(e="default"in e?e.default:e).registerTheme("ve-chart",{categoryAxis:{axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1}},valueAxis:{axisLine:{show:!1}},line:{smooth:!0},grid:{containLabel:!0,left:10,right:10}});var t=function(e){return['<span style="',"background-color:"+e+";","display: inline-block;","width: 10px;","height: 10px;","border-radius: 50%;","margin-right:2px;",'"></span>'].join("")},i=["#19d4ae","#5ab1ef","#fa6e86","#ffb980","#0067a6","#c4b4e4","#d87a80","#9cbbff","#d9d0c7","#87a997","#d49ea2","#5b4947","#7ba3a8"],a=["#313695","#4575b4","#74add1","#abd9e9","#e0f3f8","#ffffbf","#fee090","#fdae61","#f46d43","#d73027","#a50026"],n=["blue","blue","green","yellow","red"],r=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"-";if(null==e||isNaN(e))return a;switch(t){case"KMB":return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(isNaN(+e))return e;for(var i=[{value:1e18,symbol:"E"},{value:1e15,symbol:"P"},{value:1e12,symbol:"T"},{value:1e9,symbol:"B"},{value:1e6,symbol:"M"},{value:1e3,symbol:"k"}],a=0;a<i.length;a++)if(Math.abs(e)>=i[a].value)return(e/i[a].value).toFixed(t)+i[a].symbol;return e.toString()}(e);case"percent":return parseFloat((100*e).toFixed(i))+"%";case"normal":return String(e).replace(/^(\s+|-)?\d+(?=.?\d*($|\s))/g,function(e){return e.replace(/(?=(?!\b)(\d{3})+$)/g,",")});default:return e}},o=function(e){var t={};return Object.keys(e).forEach(function(i){e[i].forEach(function(e){t[e]=i})}),t},s=function(e,t){var i;return i=t||"https://unpkg.com/echarts@3.6.2/map/json/"+e+".json",new Promise(function(e,t){var a=new XMLHttpRequest;a.open("GET",i),a.send(null),a.onload=function(){e(JSON.parse(a.responseText))},a.onerror=function(){t(JSON.parse(a.responseText))}})},l=null,c=null,u=function(e,t){return l||(l=new Promise(function(i,a){var n="bmap"+Date.now();window[n]=i;var r=document.createElement("script");r.src=["https://api.map.baidu.com/api?v="+(t||"2.0"),"ak="+e,"callback="+n].join("&"),document.body.appendChild(r)})),l},d=function(e,t){return c||(c=new Promise(function(i,a){var n="amap"+Date.now();window[n]=i;var r=document.createElement("script");r.src=["http://webapi.amap.com/maps?v="+(t||"1.4.3"),"key="+e,"callback="+n].join("&"),document.body.appendChild(r)})),c},m=function(e){return JSON.parse(JSON.stringify(e))},p=function(e){return Object.prototype.toString.call(e)},h=function(e){return"[object Array]"===p(e)},f=function(e){return"[object Object]"===p(e)},v="object"==typeof global&&global&&global.Object===Object&&global,y="object"==typeof self&&self&&self.Object===Object&&self,b=v||y||Function("return this")(),x=b.Symbol,g=Object.prototype,S=g.hasOwnProperty,w=g.toString,A=x?x.toStringTag:void 0;var O=Object.prototype.toString;var M="[object Null]",j="[object Undefined]",T=x?x.toStringTag:void 0;function N(e){return null==e?void 0===e?j:M:T&&T in Object(e)?function(e){var t=S.call(e,A),i=e[A];try{e[A]=void 0;var a=!0}catch(e){}var n=w.call(e);return a&&(t?e[A]=i:delete e[A]),n}(e):(t=e,O.call(t));var t}function V(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var L="[object AsyncFunction]",_="[object Function]",k="[object GeneratorFunction]",E="[object Proxy]";var C,z=b["__core-js_shared__"],H=(C=/[^.]+$/.exec(z&&z.keys&&z.keys.IE_PROTO||""))?"Symbol(src)_1."+C:"";var P=Function.prototype.toString;var F=/^\[object .+?Constructor\]$/,R=Function.prototype,$=Object.prototype,D=R.toString,q=$.hasOwnProperty,G=RegExp("^"+D.call(q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function I(e){return!(!V(e)||H&&H in e)&&(function(e){if(!V(e))return!1;var t=N(e);return t==_||t==k||t==L||t==E}(e)?G:F).test(function(e){if(null!=e){try{return P.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function B(e,t){var i,a=null==(i=e)?void 0:i[t];return I(a)?a:void 0}var W=function(){try{var e=B(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();function Z(e,t){return e===t||e!=e&&t!=t}var Y=Object.prototype.hasOwnProperty;function J(e,t,i){var a,n,r,o=e[t];Y.call(e,t)&&Z(o,i)&&(void 0!==i||t in e)||(a=e,r=i,"__proto__"==(n=t)&&W?W(a,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):a[n]=r)}var X=Array.isArray;var K="[object Symbol]";function U(e){return"symbol"==typeof e||null!=(t=e)&&"object"==typeof t&&N(e)==K;var t}var Q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ee=/^\w*$/;var te=B(Object,"create");var ie="__lodash_hash_undefined__",ae=Object.prototype.hasOwnProperty;var ne=Object.prototype.hasOwnProperty;var re="__lodash_hash_undefined__";function oe(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var a=e[t];this.set(a[0],a[1])}}function se(e,t){for(var i=e.length;i--;)if(Z(e[i][0],t))return i;return-1}oe.prototype.clear=function(){this.__data__=te?te(null):{},this.size=0},oe.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},oe.prototype.get=function(e){var t=this.__data__;if(te){var i=t[e];return i===ie?void 0:i}return ae.call(t,e)?t[e]:void 0},oe.prototype.has=function(e){var t=this.__data__;return te?void 0!==t[e]:ne.call(t,e)},oe.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=te&&void 0===t?re:t,this};var le=Array.prototype.splice;function ce(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var a=e[t];this.set(a[0],a[1])}}ce.prototype.clear=function(){this.__data__=[],this.size=0},ce.prototype.delete=function(e){var t=this.__data__,i=se(t,e);return!(i<0||(i==t.length-1?t.pop():le.call(t,i,1),--this.size,0))},ce.prototype.get=function(e){var t=this.__data__,i=se(t,e);return i<0?void 0:t[i][1]},ce.prototype.has=function(e){return se(this.__data__,e)>-1},ce.prototype.set=function(e,t){var i=this.__data__,a=se(i,e);return a<0?(++this.size,i.push([e,t])):i[a][1]=t,this};var ue=B(b,"Map");function de(e,t){var i,a,n=e.__data__;return("string"==(a=typeof(i=t))||"number"==a||"symbol"==a||"boolean"==a?"__proto__"!==i:null===i)?n["string"==typeof t?"string":"hash"]:n.map}function me(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var a=e[t];this.set(a[0],a[1])}}me.prototype.clear=function(){this.size=0,this.__data__={hash:new oe,map:new(ue||ce),string:new oe}},me.prototype.delete=function(e){var t=de(this,e).delete(e);return this.size-=t?1:0,t},me.prototype.get=function(e){return de(this,e).get(e)},me.prototype.has=function(e){return de(this,e).has(e)},me.prototype.set=function(e,t){var i=de(this,e),a=i.size;return i.set(e,t),this.size+=i.size==a?0:1,this};var pe="Expected a function";function he(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(pe);var i=function(){var a=arguments,n=t?t.apply(this,a):a[0],r=i.cache;if(r.has(n))return r.get(n);var o=e.apply(this,a);return i.cache=r.set(n,o)||r,o};return i.cache=new(he.Cache||me),i}he.Cache=me;var fe=500;var ve,ye,be=/^\./,xe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ge=/\\(\\)?/g,Se=(ve=he(function(e){var t=[];return be.test(e)&&t.push(""),e.replace(xe,function(e,i,a,n){t.push(a?n.replace(ge,"$1"):i||e)}),t},function(e){return ye.size===fe&&ye.clear(),e}),ye=ve.cache,ve);var we=1/0,Ae=x?x.prototype:void 0,Oe=Ae?Ae.toString:void 0;function Me(e){if("string"==typeof e)return e;if(X(e))return function(e,t){for(var i=-1,a=null==e?0:e.length,n=Array(a);++i<a;)n[i]=t(e[i],i,e);return n}(e,Me)+"";if(U(e))return Oe?Oe.call(e):"";var t=e+"";return"0"==t&&1/e==-we?"-0":t}function je(e,t){return X(e)?e:function(e,t){if(X(e))return!1;var i=typeof e;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=e&&!U(e))||ee.test(e)||!Q.test(e)||null!=t&&e in Object(t)}(e,t)?[e]:Se(null==(i=e)?"":Me(i));var i}var Te=9007199254740991,Ne=/^(?:0|[1-9]\d*)$/;var Ve=1/0;function Le(e){if("string"==typeof e||U(e))return e;var t=e+"";return"0"==t&&1/e==-Ve?"-0":t}function _e(e,t,i){return null==e?e:function(e,t,i,a){if(!V(e))return e;for(var n,r,o=-1,s=(t=je(t,e)).length,l=s-1,c=e;null!=c&&++o<s;){var u=Le(t[o]),d=i;if(o!=l){var m=c[u];void 0===(d=a?a(m,u,c):void 0)&&(d=V(m)?m:(n=t[o+1],(r=null==(r=void 0)?Te:r)&&("number"==typeof n||Ne.test(n))&&n>-1&&n%1==0&&n<r?[]:{}))}J(c,u,d),c=c[u]}return e}(e,t,i)}function ke(e,t,i){var a=null==e?void 0:function(e,t){for(var i=0,a=(t=je(t,e)).length;null!=e&&i<a;)e=e[Le(t[i++])];return i&&i==a?e:void 0}(e,t);return void 0===a?i:a}var Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},He=function(e){return Array.isArray(e)?e:Array.from(e)},Pe=.5;function Fe(e){var t=e.innerRows,i=e.dimAxisName,a=e.dimension,n=e.axisVisible,r=e.dimAxisType,o=e.dims;return a.map(function(e){return{type:"category",name:i,nameLocation:"middle",nameGap:22,data:"value"===r?function(e){for(var t=Math.max.apply(null,e),i=[],a=Math.min.apply(null,e);a<=t;a++)i.push(a);return i}(o):t.map(function(t){return t[e]}),axisLabel:{formatter:function(e){return String(e)}},show:n}})}function Re(e){for(var t=e.meaAxisName,i=e.meaAxisType,a=e.axisVisible,n=e.digit,o=e.scale,s=e.min,l=e.max,c={type:"value",axisTick:{show:!1},show:a},u=[],d=function(e){i[e]?u[e]=ze({},c,{axisLabel:{formatter:function(t){return r(t,i[e],n)}}}):u[e]=ze({},c),u[e].name=t[e]||"",u[e].scale=o[e]||!1,u[e].min=s[e]||null,u[e].max=l[e]||null},m=0;m<2;m++)d(m);return u}function $e(e){var i=e.axisSite,a=e.isHistogram,n=e.meaAxisType,o=e.digit,s=e.labelMap,l=a?i.right||[]:i.top||[];return s&&(l=l.map(function(e){return void 0===s[e]?e:s[e]})),{trigger:"axis",formatter:function(e){var i=[];return i.push(e[0].name+"<br>"),e.forEach(function(e){var a=e.seriesName,s=~l.indexOf(a)?n[1]:n[0];i.push(t(e.color)),i.push(a+": "),i.push(r(e.value,s,o)),i.push("<br>")}),i.join("")}}}function De(e){var t,i=e.innerRows,a=e.metrics,n=e.stack,r=e.axisSite,s=e.isHistogram,l=e.labelMap,c=e.itemStyle,u=e.label,d=e.showLine,m=void 0===d?[]:d,p=e.dimAxisType,h=e.barGap,f=e.opacity,v=e.dims,y={},b=s?r.right||[]:r.top||[],x=s?"yAxisIndex":"xAxisIndex",g=n&&o(n);return a.forEach(function(e){y[e]=[]}),i.forEach(function(e){a.forEach(function(t){y[t].push(e[t])})}),!!(t=Object.keys(y).map(function(e,t){var i="value"===p?function(e,t){for(var i=Math.max.apply(null,t),a=[],n=Math.min.apply(null,t);n<=i;n++){var r=t.indexOf(n);~r?a.push(e[r]):a.push(null)}return a}(y[e],v):y[e],a=Ce({name:null!=l[e]?l[e]:e,type:~m.indexOf(e)?"line":"bar",data:i},x,~b.indexOf(e)?"1":"0");n&&g[e]&&(a.stack=g[e]),u&&(a.label=u),c&&(a.itemStyle=c);var r=f||ke(a,"itemStyle.normal.opacity");return"value"===p&&(a.barGap=h,a.barCategoryGap="1%",null==r&&(r=Pe)),null!=r&&_e(a,"itemStyle.normal.opacity",r),a})).length&&t}function qe(e){var t=e.metrics,i=e.labelMap,a=e.legendName;return a||i?{data:i?t.map(function(e){return null==i[e]?e:i[e]}):t,formatter:function(e){return null!=a[e]?a[e]:e}}:{data:t}}function Ge(e,t){return e.map(function(e){return e[t[0]]})}var Ie=function(e,t,i,a){var n=m(t),r=i.axisSite,o=void 0===r?{}:r,s=i.dimension,l=void 0===s?[e[0]]:s,c=i.stack,u=void 0===c?{}:c,d=i.axisVisible,p=void 0===d||d,h=i.digit,f=void 0===h?2:h,v=i.dataOrder,y=void 0!==v&&v,b=i.scale,x=void 0===b?[!1,!1]:b,g=i.min,S=void 0===g?[null,null]:g,w=i.max,A=void 0===w?[null,null]:w,O=i.legendName,M=void 0===O?{}:O,j=i.labelMap,T=void 0===j?{}:j,N=i.label,V=i.itemStyle,L=i.showLine,_=i.barGap,k=void 0===_?"-100%":_,E=i.opacity,C=a.tooltipVisible,z=a.legendVisible,H=e.slice();o.top&&o.bottom?H=o.top.concat(o.bottom):o.bottom&&!o.right?H=o.bottom:i.metrics?H=i.metrics:H.splice(e.indexOf(l[0]),1);var P=i.xAxisType||["normal","normal"],F=i.yAxisType||"category",R=i.xAxisName||[],$=i.yAxisName||"";if(y){var D=y.label,q=y.order;D&&q?n.sort(function(e,t){return"desc"===q?e[D]-t[D]:t[D]-e[D]}):console.warn("Need to provide name and order parameters")}var G=Ge(n,l),I=z&&qe({metrics:H,labelMap:T,legendName:M}),B=Fe({innerRows:n,dimAxisName:$,dimension:l,axisVisible:p,dimAxisType:F,dims:G}),W=Re({meaAxisName:R,meaAxisType:P,axisVisible:p,digit:f,scale:x,min:S,max:A});return{legend:I,yAxis:B,series:De({innerRows:n,metrics:H,stack:u,axisSite:o,isHistogram:!1,labelMap:T,itemStyle:V,label:N,showLine:L,dimAxisType:F,dimension:l,barGap:k,opacity:E,dims:G}),xAxis:W,tooltip:C&&$e({axisSite:o,isHistogram:!1,meaAxisType:P,digit:f,labelMap:T})}},Be=function(e,t,i,a){var n=m(t),r=i.axisSite,o=void 0===r?{}:r,s=i.dimension,l=void 0===s?[e[0]]:s,c=i.stack,u=void 0===c?{}:c,d=i.axisVisible,p=void 0===d||d,h=i.digit,f=void 0===h?2:h,v=i.dataOrder,y=void 0!==v&&v,b=i.scale,x=void 0===b?[!1,!1]:b,g=i.min,S=void 0===g?[null,null]:g,w=i.max,A=void 0===w?[null,null]:w,O=i.labelMap,M=void 0===O?{}:O,j=i.legendName,T=void 0===j?{}:j,N=i.label,V=i.itemStyle,L=i.showLine,_=i.barGap,k=void 0===_?"-100%":_,E=i.opacity;if(y){var C=y.label,z=y.order;C&&z?n.sort(function(e,t){return"desc"===z?e[C]-t[C]:t[C]-e[C]}):console.warn("Need to provide name and order parameters")}var H=a.tooltipVisible,P=a.legendVisible,F=e.slice();o.left&&o.right?F=o.left.concat(o.right):o.left&&!o.right?F=o.left:i.metrics?F=i.metrics:F.splice(e.indexOf(l[0]),1);var R=i.yAxisType||["normal","normal"],$=i.xAxisType||"category",D=i.yAxisName||[],q=i.xAxisName||"",G=Ge(n,l),I=P&&qe({metrics:F,labelMap:M,legendName:T}),B=Fe({innerRows:n,dimAxisName:q,dimension:l,axisVisible:p,dimAxisType:$,dims:G});return{legend:I,yAxis:Re({meaAxisName:D,meaAxisType:R,axisVisible:p,digit:f,scale:x,min:S,max:A}),series:De({innerRows:n,metrics:F,stack:u,axisSite:o,isHistogram:!0,labelMap:M,itemStyle:V,label:N,showLine:L,dimAxisType:$,dimension:l,barGap:k,opacity:E,dims:G}),xAxis:B,tooltip:H&&$e({axisSite:o,isHistogram:!0,meaAxisType:R,digit:f,labelMap:M})}},We={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"v-charts-component-loading"},[t("div",{staticClass:"loader"},[t("div",{staticClass:"loading-spinner"},[t("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[t("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})])])])])},staticRenderFns:[]},Ze={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"v-charts-data-empty"},[this._v(" 暂无数据 ")])},staticRenderFns:[]},Ye={render:function(e){return e("div",{class:[(t=this.$options.name||this.$options._componentTag,t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())],style:this.canvasStyle},[e("div",{style:this.canvasStyle,ref:"canvas"}),e(We,{style:{display:this.loading?"":"none"}}),e(Ze,{style:{display:this.dataEmpty?"":"none"}}),this.$slots.default]);var t},props:{data:{type:[Object,Array],default:function(){return{}}},settings:{type:Object,default:function(){return{}}},width:{type:String,default:"auto"},height:{type:String,default:"400px"},beforeConfig:{type:Function},afterConfig:{type:Function},afterSetOption:{type:Function},afterSetOptionOnce:{type:Function},events:{type:Object},grid:{type:[Object,Array]},colors:{type:Array},tooltipVisible:{type:Boolean,default:!0},legendVisible:{type:Boolean,default:!0},legendPosition:{type:String},markLine:{type:Object},markArea:{type:Object},markPoint:{type:Object},visualMap:{type:[Object,Array]},dataZoom:{type:[Object,Array]},toolbox:{type:[Object,Array]},initOptions:{type:Object,default:function(){return{}}},title:Object,legend:[Object,Array],xAxis:[Object,Array],yAxis:[Object,Array],radar:Object,tooltip:Object,axisPointer:Object,brush:[Object,Array],geo:Object,timeline:[Object,Array],graphic:[Object,Array],series:[Object,Array],backgroundColor:[Object,String],textStyle:Object,animation:Object,theme:Object,themeName:String,loading:Boolean,dataEmpty:Boolean,extend:Object,judgeWidth:{type:Boolean,default:!0},widthChangeDelay:{type:Number,default:300},tooltipFormatter:{type:Function}},watch:{data:{deep:!0,handler:function(e){e&&this.dataHandler(e)}},settings:{deep:!0,handler:function(e){e.type&&this.chartLib&&(this.chartHandler=this.chartLib[e.type]),this.dataHandler(this.data)}},events:{deep:!0,handler:function(){this.createEventProxy()}}},computed:{canvasStyle:function(){return{width:this.width,height:this.height,position:"relative"}},chartColor:function(){return this.colors||this.theme&&this.theme.color||i}},methods:{dataHandler:function(e){if(this.chartHandler){var t=e,i=t.columns,a=void 0===i?[]:i,n=t.rows,r=void 0===n?[]:n,o={tooltipVisible:this.tooltipVisible,legendVisible:this.legendVisible,echarts:this.echarts,color:this.chartColor,tooltipFormatter:this.tooltipFormatter};this.beforeConfig&&(e=this.beforeConfig(e));var s=this.chartHandler(a,r,this.settings,o);s&&("function"==typeof s.then?s.then(this.optionsHandler):this.optionsHandler(s))}},resize:function(){this.echarts.resize()},optionsHandler:function(e){var t=this;this.legendPosition&&e.legend&&(e.legend[this.legendPosition]=10,~["left","right"].indexOf(this.legendPosition)&&(e.legend.top="middle",e.legend.orient="vertical")),this.themeName||(e.color=this.chartColor);if(["grid","dataZoom","visualMap","toolbox","title","legend","xAxis","yAxis","radar","tooltip","axisPointer","brush","geo","timeline","graphic","series","backgroundColor","textStyle"].forEach(function(i){t[i]&&(e[i]=t[i])}),this.animation&&Object.keys(this.animation).forEach(function(i){e[i]=t.animation[i]}),this.markArea||this.markLine||this.markPoint){var i={markArea:this.markArea,markLine:this.markLine,markPoint:this.markPoint},a=e.series;"[object Array]"===p(a)?a.forEach(function(e){t.addMark(e,i)}):"[object Object]"===p(a)&&this.addMark(a,i)}this.extend&&Object.keys(this.extend).forEach(function(i){"function"==typeof t.extend[i]?e[i]=t.extend[i](e[i]):h(e[i])&&f(e[i][0])?e[i].forEach(function(a,n){e[i][n]=ze({},a,t.extend[i])}):f(e[i])?e[i]=ze({},e[i],t.extend[i]):e[i]=t.extend[i]}),this.afterConfig&&(e=this.afterConfig(e)),this.echarts.setOption(e,!0),this.judgeWidth&&this.judgeWidthHandler(e),this.afterSetOption&&this.afterSetOption(this.echarts),this.afterSetOptionOnce&&!this._once.afterSetOptionOnce&&(this._once.afterSetOptionOnce=this.afterSetOptionOnce(this.echarts))},judgeWidthHandler:function(e){var t=this;this.$el.clientWidth?this.echarts.resize():this.$nextTick(function(e){t.$el.clientWidth?t.echarts.resize():setTimeout(function(e){t.echarts.resize(),t.$el.clientWidth||console.warn(" Can't get dom width or height ")},t.widthChangeDelay)})},addMark:function(e,t){Object.keys(t).forEach(function(i){t[i]&&(e[i]=t[i])})},init:function(){if(!this.echarts){var e=this.themeName||(this.theme?"outer-theme":"ve-chart");this.echarts=this.echartsLib.init(this.$refs.canvas,e,this.initOptions),this.data&&this.dataHandler(this.data),this.createEventProxy()}},addWatchToProps:function(){var e=this,t=this._watchers.map(function(e){return e.expression});Object.keys(this.$props).forEach(function(i){if(!~t.indexOf(i)){var a={};"[object Object]"===p(i)&&(a.deep=!0),e.$watch(i,function(){e.dataHandler(e.data)},a)}})},registerTheme:function(){e.registerTheme("outer-theme",this.theme)},createEventProxy:function(){var e=this,t=this,i=Object.keys(this.events||{});i.length&&i.forEach(function(i){var a;-1===e.registeredEvents.indexOf(i)&&(e.registeredEvents.push(i),e.echarts.on(i,(a=i,function(){if(a in t.events){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];t.events[a].apply(null,i)}})))})}},created:function(){this.echarts=null,this.registeredEvents=[],this._once={},this.addWatchToProps(),this.theme&&this.registerTheme()},mounted:function(){this.init(),window.addEventListener("resize",this.echarts.resize)},beforeDestroy:function(){window.removeEventListener("resize",this.echarts.resize),this.echarts.dispose()}},Je={name:"VeBar",mixins:[Ye],created:function(){this.chartHandler=Ie,this.echartsLib=e}},Xe={name:"VeHistogram",mixins:[Ye],created:function(){this.chartHandler=Be,this.echartsLib=e}};var Ke=function(e,i,a,n){var s=a.axisSite,l=void 0===s?{}:s,c=a.yAxisType,u=void 0===c?["normal","normal"]:c,d=a.xAxisType,m=void 0===d?"category":d,p=a.yAxisName,h=void 0===p?[]:p,f=a.dimension,v=void 0===f?[e[0]]:f,y=a.xAxisName,b=void 0===y?[]:y,x=a.axisVisible,g=void 0===x||x,S=a.area,w=a.stack,A=a.scale,O=void 0===A?[!1,!1]:A,M=a.min,j=void 0===M?[null,null]:M,T=a.max,N=void 0===T?[null,null]:T,V=a.nullAddZero,L=void 0!==V&&V,_=a.digit,k=void 0===_?2:_,E=a.legendName,C=void 0===E?{}:E,z=a.labelMap,H=void 0===z?{}:z,P=a.label,F=a.itemStyle,R=a.lineStyle,$=a.areaStyle,D=n.tooltipVisible,q=n.legendVisible,G=n.tooltipFormatter,I=e.slice();l.left&&l.right?I=l.left.concat(l.right):l.left&&!l.right?I=l.left:a.metrics?I=a.metrics:I.splice(e.indexOf(v[0]),1);var B,W,Z,Y,J,X,K,U,Q,ee,te,ie,ae,ne,re,oe,se,le,ce,ue,de,me,pe,he,fe,ve,ye,be,xe,ge,Se,we,Ae,Oe,Me,je,Te=q&&(W=(B={metrics:I,legendName:C,labelMap:H}).metrics,Z=B.legendName,Y=B.labelMap,Z||Y?{data:Y?W.map(function(e){return null==Y[e]?e:Y[e]}):W,formatter:function(e){return null!=Z[e]?Z[e]:e}}:{data:W}),Ne=D&&(X=(J={axisSite:l,yAxisType:u,digit:k,labelMap:H,xAxisType:m,tooltipFormatter:G}).axisSite,K=J.yAxisType,U=J.digit,Q=J.labelMap,ee=J.xAxisType,te=J.tooltipFormatter,ie=X.right||[],ae=Q?ie.map(function(e){return void 0===Q[e]?e:Q[e]}):ie,{trigger:"axis",formatter:function(e){if(te)return te.apply(null,arguments);var i=[],a=e[0],n=a.name,o=a.axisValueLabel,s=n||o;return i.push(s+"<br>"),e.forEach(function(e){var a,n=~ae.indexOf(e.seriesName)?K[1]:K[0],o="category"===ee?e.data:e.data[1];a=r(o,n,U),i.push(t(e.color)),i.push(e.seriesName+": "+a),i.push("<br>")}),i.join("")}}),Ve=(re=(ne={dimension:v,rows:i,xAxisName:b,axisVisible:g,xAxisType:m}).dimension,oe=ne.rows,se=ne.xAxisName,le=ne.axisVisible,ce=ne.xAxisType,re.map(function(e,t){return{type:ce,nameLocation:"middle",nameGap:22,boundaryGap:!1,name:se[t]||"",axisTick:{show:!0,lineStyle:{color:"#eee"}},data:oe.map(function(t){return t[e]}),show:le}})),Le=function(e){for(var t=e.yAxisName,i=e.yAxisType,a=e.axisVisible,n=e.scale,o=e.min,s=e.max,l=e.digit,c={type:"value",axisTick:{show:!1},show:a},u=[],d=function(e){i[e]?u[e]=ze({},c,{axisLabel:{formatter:function(t){return r(t,i[e],l)}}}):u[e]=ze({},c),u[e].name=t[e]||"",u[e].scale=n[e]||!1,u[e].min=o[e]||null,u[e].max=s[e]||null},m=0;m<2;m++)d(m);return u}({yAxisName:h,yAxisType:u,axisVisible:g,scale:O,min:j,max:N,digit:k}),_e=(de=(ue={rows:i,axisSite:l,metrics:I,area:S,stack:w,nullAddZero:L,labelMap:H,label:P,itemStyle:F,lineStyle:R,areaStyle:$,xAxisType:m,dimension:v}).rows,me=ue.axisSite,pe=ue.metrics,he=ue.area,fe=ue.stack,ve=ue.nullAddZero,ye=ue.labelMap,be=ue.label,xe=ue.itemStyle,ge=ue.lineStyle,Se=ue.areaStyle,we=ue.xAxisType,Ae=ue.dimension,Oe=[],Me={},je=fe&&o(fe),pe.forEach(function(e){Me[e]=[]}),de.forEach(function(e){pe.forEach(function(t){var i=null;null!=e[t]?i=e[t]:ve&&(i=0);var a="category"===we?i:[e[Ae[0]],i];Me[t].push(a)})}),pe.forEach(function(e){var t={name:null!=ye[e]?ye[e]:e,type:"line",data:Me[e]};he&&(t.areaStyle={normal:{}}),me.right&&(t.yAxisIndex=~me.right.indexOf(e)?1:0),fe&&je[e]&&(t.stack=je[e]),be&&(t.label=be),xe&&(t.itemStyle=xe),ge&&(t.lineStyle=ge),Se&&(t.areaStyle=Se),Oe.push(t)}),!!Oe.length&&Oe);return!(!Ve||!_e)&&{legend:Te,xAxis:Ve,series:_e,yAxis:Le,tooltip:Ne}},Ue={name:"VeLine",mixins:[Ye],created:function(){this.chartHandler=Ke,this.echartsLib=e}},Qe=[80,100],et=[20,100];var tt=function(e,i,a,n,o){var s,l,c,u,d,p,h,f,v,y=m(i),b=a.dataType,x=void 0===b?"normal":b,g=a.percentShow,S=a.dimension,w=void 0===S?e[0]:S,A=a.metrics,O=void 0===A?e[1]:A,M=a.roseType,j=void 0!==M&&M,T=a.radius,N=void 0===T?o?j?et:Qe:100:T,V=a.offsetY,L=void 0===V?200:V,_=a.legendLimit,k=void 0===_?30:_,E=a.selectedMode,C=void 0!==E&&E,z=a.hoverAnimation,H=void 0===z||z,P=a.digit,F=void 0===P?2:P,R=a.legendName,$=void 0===R?{}:R,D=a.label,q=void 0!==D&&D,G=a.level,I=void 0!==G&&G,B=a.limitShowNum,W=void 0===B?0:B,Z=a.labelLine,Y=a.itemStyle,J=n.tooltipVisible,X=n.legendVisible;return W&&y.sort(function(e,t){return t[O]-e[O]}),{series:function(e){var t=e.innerRows,i=e.dataType,a=e.percentShow,n=e.dimension,o=e.metrics,s=e.radius,l=e.offsetY,c=e.selectedMode,u=e.hoverAnimation,d=e.digit,m=e.roseType,p=e.label,h=e.level,f=e.limitShowNum,v=e.isRing,y=e.labelLine,b=e.itemStyle,x=[],g={},S=[];h?(h.forEach(function(e,t){e.forEach(function(e){g[e]=t})}),t.forEach(function(e){var t=g[e[n]];void 0!==t&&(S[t]?S[t].push(e):S[t]=[e])})):S.push(t);var w={type:"pie",selectedMode:c,hoverAnimation:u,roseType:m,center:["50%",l]},A=S.length;if(S.forEach(function(e,t){var l=ze({data:[]},w),c=s/A;if(t){var u=c+s/(2*A)*(2*t-1),m=u+s/(2*A);l.radius=[u,m]}else l.radius=v?s:c;A>1&&0===t&&(l.label={normal:{position:"inner"}}),p&&(l.label=p),y&&(l.labelLine=y),b&&(l.itemStyle=b),a&&(l.label={normal:{show:!0,position:A>1&&0===t?"inner":"outside",formatter:function(e){var t=[];return t.push(e.name+":"),t.push(r(e.value,i,d)),t.push("("+e.percent+"%)"),t.join(" ")}}}),l.data=e.map(function(e){return{name:e[n],value:e[o]}}),x.push(l)}),f&&f<x[0].data.length){var O=x[0].data,M=0;O.slice(f,O.length).forEach(function(e){M+=e.value}),x[0].data=O.slice(0,f),x[0].data.push({name:"其他",value:M})}return x}({innerRows:y,dataType:x,percentShow:g,dimension:w,metrics:O,radius:N,offsetY:L,selectedMode:C,hoverAnimation:H,digit:F,roseType:j,label:q,level:I,legendName:$,limitShowNum:W,isRing:o,labelLine:Z,itemStyle:Y}),legend:X&&function(e){var t=e.innerRows,i=e.dimension,a=e.legendLimit,n=e.legendName,r=e.level,o=e.limitShowNum,s=[],l=[];if(r)r.forEach(function(e){e.forEach(function(e){l.push(e)})}),s=l;else if(o&&o<t.length){for(var c=0;c<o;c++)s.push(t[c][i]);s.push("其他")}else s=t.map(function(e){return e[i]});return!!s.length&&{data:s,show:s.length<a,formatter:function(e){return null!=n[e]?n[e]:e}}}({innerRows:y,dimension:w,legendLimit:k,legendName:$,level:I,limitShowNum:W}),tooltip:J&&(l=(s={dataType:x,innerRows:y,limitShowNum:W,digit:F,metrics:O,dimension:w}).dataType,c=s.innerRows,u=s.limitShowNum,d=s.digit,p=s.metrics,h=s.dimension,f=0,v=c.map(function(e){return f+=e[p],{name:e[h],value:e[p]}}).slice(u,c.length),{formatter:function(e){var i=[];return i.push(t(e.color)),u&&"其他"===e.name?(i.push("其他:"),v.forEach(function(e){var t=e.name,a=e.value,n=r(a/f,"percent");i.push("<br>"+t+":"),i.push(r(a,l,d)),i.push("("+n+")")})):(i.push(e.name+":"),i.push(r(e.value,l,d)),i.push("("+e.percent+"%)")),i.join(" ")}})}},it=function(e,t,i,a){return tt(e,t,i,a,!0)},at={name:"VePie",mixins:[Ye],created:function(){this.chartHandler=tt,this.echartsLib=e}},nt={name:"VeRing",mixins:[Ye],created:function(){this.chartHandler=it,this.echartsLib=e}};var rt=function(e,t,i,a){var n=i.dataType,o=void 0===n?"normal":n,s=i.dimension,l=void 0===s?e[0]:s,c=i.totalName,u=void 0===c?"总计":c,d=i.totalNum,m=i.remainName,p=void 0===m?"其他":m,h=i.xAxisName,f=void 0===h?l:h,v=i.labelMap,y=void 0===v?{}:v,b=i.axisVisible,x=void 0===b||b,g=i.digit,S=void 0===g?2:g,w=a.tooltipVisible,A=e.slice();A.splice(A.indexOf(l),1);var O,M,j,T,N,V,L,_,k,E,C,z,H,P,F,R,$,D,q,G=A[0],I=G,B=w&&(O=o,M=S,{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(e){var t=e[1];return[t.name+"<br/>"+t.seriesName+" :",""+r(t.value,O,M)].join("")}}),W=parseFloat(t.reduce(function(e,t){return e+Number(t[G])},0).toFixed(S)),Z=(j=d)?j>W?"have-remain":"none-remain":"not-total";return{tooltip:B,xAxis:(N=(T={dimension:l,rows:t,remainStatus:Z,totalName:u,remainName:p,xAxisName:f,labelMap:y,axisVisible:x}).dimension,V=T.rows,L=T.remainStatus,_=T.totalName,k=T.remainName,E=T.labelMap,C=T.xAxisName,z=T.axisVisible,H=[_].concat(V.map(function(e){return e[N]})),"have-remain"===L&&(H=H.concat([k])),{type:"category",name:E&&E[C]||C,splitLine:{show:!1},data:H,show:z}),yAxis:(F=(P={dataType:o,yAxisName:I,axisVisible:x,digit:S,labelMap:y}).dataType,R=P.yAxisName,$=P.axisVisible,D=P.digit,{type:"value",name:null!=(q=P.labelMap)[R]?q[R]:R,axisTick:{show:!1},axisLabel:{formatter:function(e){return r(e,F,D)}},show:$}),series:function(e){var t=e.dataType,i=e.rows,a=e.metrics,n=e.totalNum,o=e.remainStatus,s=e.dataSum,l=e.digit,c={type:"bar",stack:"总量"},u=s,d=n,m=void 0,p=void 0,h=i.map(function(e){return e[a]});"have-remain"===o?(m=[0].concat(i.map(function(e){return d-=e[a]})).concat([0]),p=[n].concat(h).concat([n-s])):(m=[0].concat(i.map(function(e){return u-=e[a]})),p=[s].concat(h));var f=[];return f.push(ze({name:"辅助",itemStyle:{normal:{opacity:0},emphasis:{opacity:0}},data:m},c)),f.push(ze({name:"数值",label:{normal:{show:!0,position:"top",formatter:function(e){return r(e.value,t,l)}}},data:p},c)),f}({dataType:o,rows:t,dimension:l,metrics:G,totalNum:d,remainStatus:Z,dataSum:W,digit:S})}},ot={name:"VeWaterfall",mixins:[Ye],created:function(){this.chartHandler=rt,this.echartsLib=e}};var st=function(e,i,a,n){var o=e.slice(),s=i.slice(),l=a.dataType,c=void 0===l?"normal":l,u=a.dimension,d=void 0===u?o[0]:u,m=a.sequence,p=void 0===m?s.map(function(e){return e[d]}):m,h=a.digit,f=void 0===h?2:h,v=a.ascending,y=a.label,b=a.labelLine,x=a.legendName,g=void 0===x?{}:x,S=a.itemStyle,w=n.tooltipVisible,A=n.legendVisible,O=void 0;if(a.metrics)O=a.metrics;else{var M=o.slice();M.splice(o.indexOf(d),1),O=M[0]}var j,T,N,V,L,_=w&&(j=c,T=f,{trigger:"item",formatter:function(e){var i=[];return i.push(t(e.color)),i.push(e.name+": "+r(e.data.realValue,j,T)),i.join("")}}),k={dimension:d,metrics:O,rows:s,sequence:p,ascending:v,label:y,labelLine:b,itemStyle:S};return{tooltip:_,legend:A&&(V=(N={data:p,legendName:g}).data,L=N.legendName,{data:V,formatter:function(e){return null!=L[e]?L[e]:e}}),series:function(e){var t=e.dimension,i=e.metrics,a=e.rows,n=e.sequence,r=e.ascending,o=e.label,s=e.labelLine,l=e.itemStyle,c={type:"funnel"};a.sort(function(e,i){return n.indexOf(e[t])-n.indexOf(i[t])});var u=!1;a.some(function(e,t){if(t&&e[i]>a[t-1][i])return u=!0,!0});var d=100/a.length;return c.data=u?a.slice().reverse().map(function(e,a){return{name:e[t],value:(a+1)*d,realValue:e[i]}}):a.map(function(e){return{name:e[t],value:e[i],realValue:e[i]}}),r&&(c.sort="ascending"),o&&(c.label=o),s&&(c.labelLine=s),l&&(c.itemStyle=l),c}(k)}},lt={name:"VeFunnel",mixins:[Ye],created:function(){this.chartHandler=st,this.echartsLib=e}};var ct=function(e,i,a,n){var o=a.dataType,s=void 0===o?{}:o,l=a.legendName,c=void 0===l?{}:l,u=a.labelMap,d=void 0===u?{}:u,m=a.dimension,p=void 0===m?e[0]:m,h=a.digit,f=void 0===h?2:h,v=a.label,y=a.itemStyle,b=a.lineStyle,x=a.areaStyle,g=n.tooltipVisible,S=n.legendVisible,w=e.slice();a.metrics?w=a.metrics:w.splice(e.indexOf(p),1);var A,O,M,j,T,N,V,L,_,k,E=S&&(A=p,O=c,{data:i.map(function(e){return e[A]}),formatter:function(e){return null!=O[e]?O[e]:e}}),C=(M=w,j=d,T={indicator:[],shape:"circle",splitNumber:5},N={},i.forEach(function(e){M.forEach(function(t){var i=null!=j[t]?j[t]:t;N[i]?N[i].push(e[t]):N[i]=[e[t]]})}),T.indicator=Object.keys(N).map(function(e){return{name:e,max:Math.max.apply(null,N[e])}}),T);return{legend:E,tooltip:g&&(V=s,L=f,_=[],k=[],C.indicator.map(function(e,t){_[t]=V[e.name],k[t]=e.name}),{formatter:function(e){var i=[];return i.push(t(e.color)),i.push(e.name+"<br />"),e.data.value.forEach(function(e,t){i.push(k[t]+": "),i.push(r(e,_[t],L)+"<br />")}),i.join("")}}),radar:C,series:function(e){var t=e.rows,i=e.dimension,a=e.metrics,n=e.radar,r=e.label,o=e.itemStyle,s=e.lineStyle,l=e.labelMap,c=e.areaStyle,u={};n.indicator.forEach(function(e,t){var i=e.name;u[i]=t});var d=t.map(function(e){var t={value:[],name:e[i]};return Object.keys(e).forEach(function(i){if(~a.indexOf(i)){var n=null!=l[i]?u[l[i]]:u[i];t.value[n]=e[i]}}),t}),m={name:i,type:"radar",data:d};return r&&(m.label=r),o&&(m.itemStyle=o),s&&(m.lineStyle=s),c&&(m.areaStyle=c),[m]}({rows:i,dimension:p,metrics:w,radar:C,label:v,itemStyle:y,lineStyle:b,labelMap:d,areaStyle:x})}},ut={name:"VeRadar",mixins:[Ye],created:function(){this.chartHandler=ct,this.echartsLib=e}},dt={name:"VeChart",mixins:[Ye],created:function(){this.chartLib={bar:Ie,histogram:Be,line:Ke,pie:tt,ring:it,funnel:st,radar:ct,waterfall:rt},this.chartHandler=this.chartLib[this.settings.type],this.echartsLib=e}};function mt(e,t,i){"object"===(void 0===e?"undefined":Ee(e))?t[i]=e:e&&(t[i]={normal:{show:!0},emphasis:{show:!0}})}var pt=function(i,a,n,o){var l=n.position,c=void 0===l?"china":l,u=n.selectData,d=void 0!==u&&u,m=n.selectedMode,p=n.label,h=void 0===p||p,f=n.dataType,v=void 0===f?{}:f,y=n.digit,b=void 0===y?2:y,x=n.dimension,g=void 0===x?i[0]:x,S=n.roam,w=n.center,A=n.aspectScale,O=n.boundingCoords,M=n.zoom,j=n.scaleLimit,T=n.legendName,N=void 0===T?{}:T,V=n.labelMap,L=void 0===V?{}:V,_=n.mapGrid,k=n.itemStyle,E=n.positionJsonLink,C=n.beforeRegisterMap,z=i.slice();n.metrics?z=n.metrics:z.splice(i.indexOf(g),1);var H=o.tooltipVisible,P=o.legendVisible,F=o.color,R={};a.forEach(function(e){R[e[g]]=e});var $,D,q,G,I,B,W,Z,Y,J,X,K,U,Q,ee,te,ie,ae,ne,re,oe,se,le,ce,ue,de,me,pe,he,fe=H&&($=v,D=b,q=R,G=z,I=F,B=L,{formatter:function(e){var i=[];return i.push(e.name+"<br>"),G.forEach(function(a,n){var o=null!=B[a]?B[a]:a;i.push(t(I[n])+" "+o+" : "),q[e.name]?i.push(r(q[e.name][a],$[a],D)):i.push("-"),i.push("<br>")}),i.join(" ")}}),ve=P&&(Z=(W={metrics:z,legendName:N,labelMap:L}).metrics,Y=W.legendName,J=W.labelMap,Y||J?{data:J?Z.map(function(e){return null==J[e]?e:J[e]}):Z,formatter:function(e){return null!=Y[e]?Y[e]:e}}:{data:Z}),ye=(K=(X={position:c,selectData:d,label:h,itemStyle:k,dimension:g,metrics:z,rows:a,selectedMode:m,roam:S,center:w,aspectScale:A,boundingCoords:O,zoom:M,labelMap:L,scaleLimit:j,mapGrid:_}).position,U=X.selectData,Q=X.dimension,ee=X.metrics,te=X.rows,ie=X.label,ae=X.itemStyle,ne=X.selectedMode,re=X.roam,oe=X.center,se=X.aspectScale,le=X.boundingCoords,ce=X.zoom,ue=X.labelMap,de=X.scaleLimit,me=X.mapGrid,pe=[],he={type:"map",mapType:K},ee.forEach(function(e){var t=ze({name:null!=ue[e]?ue[e]:e,data:[],selectedMode:ne,roam:re,center:oe,aspectScale:se,boundingCoords:le,zoom:ce,scaleLimit:de},he);me&&Object.keys(me).forEach(function(e){t[e]=me[e]}),mt(ae,t,"itemStyle"),mt(ie,t,"label"),te.forEach(function(i){t.data.push({name:i[Q],value:i[e],selected:U})}),pe.push(t)}),pe);return s(c,E).then(function(t){return C&&(t=C(t)),e.registerMap(c,t),{series:ye,tooltip:fe,legend:ve}})},ht={name:"VeMap",mixins:[Ye],created:function(){this.chartHandler=pt,this.echartsLib=e}},ft=function(e,t,i){var a=i.key,n=i.v,r=i.bmap;return a||console.warn("settings.key must be a string."),u(a,n).then(function(e){return{bmap:r}})},vt={name:"VeBmap",mixins:[Ye],created:function(){this.chartHandler=ft,this.echartsLib=e}},yt=function(e,t,i){var a=i.key,n=i.v,r=i.amap;return a||console.warn("settings.key must be a string."),d(a,n).then(function(e){return{amap:r}})},bt={name:"VeAmap",mixins:[Ye],created:function(){this.chartHandler=yt,this.echartsLib=e}};var xt=function(e,i,a,n){var o=a.links,s=a.dimension,l=void 0===s?e[0]:s,c=a.metrics,u=void 0===c?e[1]:c,d=a.dataType,m=void 0===d?["normal","normal"]:d,p=a.digit,h=void 0===p?2:p,f=a.valueFull,v=void 0!==f&&f,y=a.useDataValue,b=void 0!==y&&y,x=a.label,g=a.itemStyle,S=a.lineStyle;if(o){var w,A,O,M,j,T,N,V,L,_,k,E,C,z,H,P,F=m[0],R=m[1];return{tooltip:(A=(w={itemDataType:F,linksDataType:R,digit:h}).itemDataType,O=w.linksDataType,M=w.digit,{trigger:"item",formatter:function(e){var i=[],a=e.name,n=e.data,o=e.value,s=e.color;return i.push(t(s)),i.push(a+" : "),n&&n.source?i.push(r(o,O,M)+"<br />"):i.push(r(o,A,M)+"<br />"),i.join("")}}),series:(T=(j={rows:i,dimension:l,metrics:u,links:o,valueFull:v,useDataValue:b,label:x,itemStyle:g,lineStyle:S}).rows,N=j.dimension,V=j.metrics,L=j.links,_=j.valueFull,k=j.useDataValue,E=j.label,C=j.itemStyle,z=j.lineStyle,H={},P={type:"sankey",data:T.map(function(e){return H[e[N]]=e[V],{name:e[N],value:e[V]}}),links:k?L.map(function(e){return ze({},e,{value:H[e.target]})}):_?L:L.map(function(e){return null==e.value?ze({},e,{value:H[e.target]}):e})},E&&(P.label=E),C&&(P.itemStyle=C),z&&(P.lineStyle=z),[P])}}console.warn("links is needed in settings!")},gt={name:"VeSankey",mixins:[Ye],created:function(){this.chartHandler=xt,this.echartsLib=e}};function St(e,t){var i=[];return e.forEach(function(e){~i.indexOf(e[t])||i.push(e[t])}),i}function wt(e){var t=e.rows,i=e.innerXAxisList,a=e.innerYAxisList,n=e.xDim,r=e.yDim,o=e.metrics,s=e.type,l=e.extraMetrics;return"cartesian"===s?t.map(function(e){var t=i.indexOf(e[n]),s=a.indexOf(e[r]),c=o?e[o]:1,u=l.map(function(t){return e[t]||"-"});return{value:[t,s,c].concat(u)}}):t.map(function(e){var t=o?e[o]:1;return{value:[e[n],e[r],t]}})}function At(e,t){return{type:"category",data:e,name:t,nameLocation:"end",splitArea:{show:!0}}}var Ot=function(i,o,l,c){var m=l.type,p=void 0===m?"cartesian":m,h=l.xAxisList,f=l.yAxisList,v=l.dimension,y=void 0===v?[i[0],i[1]]:v,b=l.metrics,x=void 0===b?i[2]:b,g=l.dataType,S=void 0===g?"normal":g,w=l.min,A=l.max,O=l.digit,M=l.bmap,j=l.amap,T=l.geo,N=l.key,V=l.v,L=void 0===V?"2.0":V,_=l.position,k=l.positionJsonLink,E=l.beforeRegisterMap,C=l.pointSize,z=void 0===C?10:C,H=l.blurSize,P=void 0===H?5:H,F=l.heatColor,R=l.yAxisName,$=l.xAxisName,D=c.tooltipVisible,q=h,G=f,I=[],B=[],W=y.concat([x]);i.forEach(function(e){~W.indexOf(e)||B.push(e)}),"cartesian"===p?(q&&q.length||(q=St(o,y[0])),G&&G.length||(G=St(o,y[1])),I=wt({rows:o,innerXAxisList:q,innerYAxisList:G,xDim:y[0],yDim:y[1],metrics:x,type:p,extraMetrics:B})):I=wt({rows:o,xDim:y[0],yDim:y[1],metrics:x,type:p,extraMetrics:B});var Z,Y,J,X,K,U,Q,ee,te,ie,ae,ne,re=x?o.map(function(e){return e[x]}):[0,5],oe=w||Math.min.apply(null,re),se=A||Math.max.apply(null,re),le=At(q,$),ce=At(G,R),ue=(Y=(Z={innerMin:oe,innerMax:se,type:p,heatColor:F}).innerMin,J=Z.innerMax,X=Z.type,K=Z.heatColor,ze({min:Y,max:J,calculable:!0},"map"===X?{orient:"vertical",left:0,bottom:0,inRange:{color:K||a}}:"bmap"===X||"amap"===X?{show:!1,orient:"vertical",left:0,bottom:0,inRange:{color:K||n}}:{orient:"horizontal",left:"center",bottom:10,dimension:2,inRange:K&&{color:K}})),de=[{type:"heatmap",data:{chartData:I}.chartData}],me=D&&(Q=(U={dataType:S,innerXAxisList:q,innerYAxisList:G,digit:O,extraMetrics:B,metrics:x}).dataType,ee=U.innerXAxisList,te=U.innerYAxisList,ie=U.digit,ae=U.extraMetrics,ne=U.metrics,{trigger:"item",formatter:function(e){var i=e.color,a=He(e.data.value),n=a[0],o=a[1],s=a[2],l=a.slice(3),c=[];return c.push(ee[n]+" ~ "+te[o]+"<br>"),ae.forEach(function(e,t){c.push(e+": "+l[t]+"<br>")}),c.push(t(i)+" "+ne+": "+r(s,Q,ie)+"<br>"),c.join("")}}),pe={visualMap:ue,series:de};return"bmap"===p?(ze(pe.series[0],{coordinateSystem:"bmap",pointSize:z,blurSize:P}),u(N,L).then(function(e){return ze({bmap:M},pe)})):"map"===p?(pe.series[0].coordinateSystem="geo",s(_,k).then(function(t){var i=ze({map:_},T);return E&&(t=E(t)),e.registerMap(_,t),ze({geo:i},pe)})):"amap"===p?(ze(pe.series[0],{coordinateSystem:"amap",pointSize:z,blurSize:P}),d(N,L).then(function(e){return ze({amap:j},pe)})):ze({xAxis:le,yAxis:ce,tooltip:me},pe)};function Mt(e,i){var a=i.labelMap,n=i.columns,o=i.dataType,s=i.digit,l=[],c=e.color,u=e.seriesName,d=e.data.value;return l.push(t(c)+" "+u+"<br>"),d.forEach(function(e,t){var i=a[n[t]]||n[t],c=isNaN(e)?e:r(e,o[n[t]],s);l.push(i+": "+c+"<br>")}),l.join("")}var jt=function(e,t,i,a){var n=i.dimension,o=void 0===n?e[0]:n,s=i.metrics,l=void 0===s?[e[1],e[2]]:s,c=i.dataType,u=void 0===c?{}:c,d=i.xAxisType,m=void 0===d?"category":d,p=i.xAxisName,f=i.yAxisName,v=i.digit,y=void 0===v?2:v,b=i.legendName,x=void 0===b?{}:b,g=i.labelMap,S=void 0===g?{}:g,w=i.tooltipTrigger,A=void 0===w?"item":w,O=i.axisVisible,M=void 0===O||O,j=i.symbolSizeMax,T=void 0===j?50:j,N=i.symbol,V=i.symbolSize,L=i.symbolRotate,_=i.symbolOffset,k=i.cursor,E=i.min,C=i.max,z=i.scale,H=i.label,P=i.itemStyle;if(h(t)){var F=ze({},i,{xAxisName:p?[p]:void 0,yAxisName:f?[f]:void 0,scale:z?[z]:void 0,min:E?[E]:void 0,max:C?[C]:void 0,dimension:o?[o]:void 0}),R=Ke(e,t,F,a);return R.series.forEach(function(e){ze(e,{type:"scatter",symbol:N,symbolSize:V||10,symbolRotate:L,symbolOffset:_,cursor:k,label:H,itemStyle:P})}),R}var $,D,q,G,I,B,W,Z,Y,J,X,K,U,Q,ee,te,ie,ae,ne=a.tooltipVisible,re=a.legendVisible,oe=Object.keys(t);return{legend:re&&($=x,{data:oe,formatter:function(e){return null!=$[e]?$[e]:e}}),tooltip:ne&&{trigger:(D={tooltipTrigger:A,labelMap:S,columns:e,dataType:u,digit:y}).tooltipTrigger,formatter:function(e){return h(e)?e.map(function(e){return Mt(e,D)}).join(""):Mt(e,D)}},xAxis:(G=(q={xAxisName:p,axisVisible:M,xAxisType:m,dataLabels:oe,dimension:o,rows:t}).xAxisName,I=q.axisVisible,B=q.xAxisType,W=q.rows,Z=q.dataLabels,Y=q.dimension,J=[],Z.forEach(function(e){W[e].forEach(function(e){var t=e[Y];t&&!~J.indexOf(t)&&J.push(t)})}),[{type:B,show:I,name:G,data:J}]),yAxis:(K=(X={min:E,max:C,scale:z,yAxisName:f,dataType:u,metrics:l,digit:y,axisVisible:M}).min,U=X.max,Q=X.scale,ee=X.yAxisName,te=X.dataType,ie=X.metrics,ae=X.digit,{type:"value",show:X.axisVisible,scale:Q,min:K,max:U,axisTick:{show:!1},name:ee,axisLabel:{formatter:function(e){return r(e,te[ie[0]],ae)}}}),series:function(e){var t=e.rows,i=e.dataLabels,a=e.columns,n=e.metrics,r=e.dimension,o=e.label,s=e.itemStyle,l=e.symbol,c=e.symbolSizeMax,u=e.symbolSize,d=e.symbolRotate,m=e.symbolOffset,p=e.cursor,h=a.filter(function(e){return!~n.indexOf(e)&&e!==r}),f=[];i.forEach(function(e){t[e].forEach(function(e){f.push(e[n[1]])})});var v=Math.max.apply(null,f),y=[];return i.forEach(function(e){var i=[];t[e].forEach(function(e){var t={value:[]};t.value.push(e[r],e[n[0]],e[n[1]]),h.forEach(function(i){t.value.push(e[i])}),t.symbolSize=u||e[n[1]]/v*c,i.push(t)}),y.push({type:"scatter",data:i,name:e,label:o,itemStyle:s,symbol:l,symbolRotate:d,symbolOffset:m,cursor:p})}),y}({rows:t,dataLabels:oe,columns:e,metrics:l,dimension:o,label:H,itemStyle:P,symbol:N,symbolSizeMax:T,symbolSize:V,symbolRotate:L,symbolOffset:_,cursor:k})}},Tt={name:"VeScatter",mixins:[Ye],created:function(){this.chartHandler=jt,this.echartsLib=e}},Nt=[5,10,20,30],Vt="日K",Lt={show:!1};var _t=function(e,i,a,n){var o=a.dimension,s=void 0===o?e[0]:o,l=a.metrics,c=void 0===l?e.slice(1,6):l,u=a.digit,d=void 0===u?2:u,m=a.itemStyle,p=a.labelMap,f=void 0===p?{}:p,v=a.legendName,y=void 0===v?{}:v,b=a.MA,x=void 0===b?Nt:b,g=a.showMA,S=void 0!==g&&g,w=a.showVol,A=void 0!==w&&w,O=a.showDataZoom,M=void 0!==O&&O,j=a.downColor,T=void 0===j?"#ec0000":j,N=a.upColor,V=void 0===N?"#00da3c":N,L=a.start,_=void 0===L?50:L,k=a.end,E=void 0===k?100:k,C=a.dataType,z=n.tooltipVisible,H=n.legendVisible,P=h(i[0]),F=[],R=[],$=[],D=c.slice(0,4),q=c[4];P?i.forEach(function(t){var i=[];F.push(t[e.indexOf(s)]),D.forEach(function(a){i.push(t[e.indexOf(a)])}),R.push(i),q&&$.push(t[e.indexOf(q)])}):i.forEach(function(e,t){var i=[];if(F.push(e[s]),D.forEach(function(t){i.push(e[t])}),R.push(i),q){var a=e[c[0]]>e[c[1]]?1:-1;$.push([t,e[q],a])}});var G,I,B,W,Z,Y,J,X,K,U,Q,ee,te,ie,ae,ne,re,oe,se,le,ce,ue,de,me,pe,he,fe,ve,ye,be,xe,ge,Se,we,Ae,Oe,Me,je,Te,Ne=H&&(I=(G={showMA:S,MA:x,legendName:y,labelMap:f}).showMA,B=G.MA,W=G.legendName,Z=G.labelMap,Y=[Vt],I&&(Y=Y.concat(B.map(function(e){return"MA"+e}))),Z&&(Y=Y.map(function(e){return null==Z[e]?e:Z[e]})),{data:Y,formatter:function(e){return null!=W[e]?W[e]:e}}),Ve=z&&(X=(J={metrics:c,dataType:C,digit:d,labelMap:f}).metrics,K=J.dataType,U=J.digit,Q=J.labelMap,{trigger:"axis",axisPointer:{type:"cross"},position:function(e,t,i,a,n){var r={top:10};return r[e[0]<n.viewSize[0]/2?"right":"left"]=60,r},formatter:function(e){var i=[];return i.push(e[0].axisValue+"<br>"),e.forEach(function(e){var a=e.data,n=e.seriesName,o=e.componentSubType,s=e.color,l=null==Q[n]?n:Q[n];if(i.push(t(s)+" "+l+": "),"candlestick"===o)i.push("<br>"),X.slice(0,4).forEach(function(e,t){var n=r(a[t+1],K,U);i.push("- "+e+": "+n+"<br>")});else if("line"===o){var c=r(a,K,U);i.push(c+"<br>")}else if("bar"===o){var u=r(a[1],K,U);i.push(u+"<br>")}}),i.join("")}}),Le=A&&(te=(ee={downColor:T,upColor:V,MA:x,showMA:S}).downColor,ie=ee.upColor,ae=ee.MA,{show:!1,seriesIndex:ee.showMA?1+ae.length:1,dimension:2,pieces:[{value:1,color:te},{value:-1,color:ie}]}),_e=M&&(re=(ne={start:_,end:E}).start,oe=ne.end,[{type:"inside",xAxisIndex:[0,1],start:re,end:oe},{show:!0,xAxisIndex:[0,1],type:"slider",top:"85%",start:re,end:oe}]);return{legend:Ne,tooltip:Ve,visualMap:Le,grid:[{left:"10%",right:"8%",top:"10%",height:{showVol:A}.showVol?"50%":"65%",containLabel:!1},{left:"10%",right:"8%",top:"65%",height:"16%",containLabel:!1}],xAxis:(se={dims:F}.dims,[{type:le="category",data:se,scale:!0,boundaryGap:!1,axisLine:ce={onZero:!1},splitLine:Lt,min:ue="dataMin",max:de="dataMax"},{type:le,gridIndex:1,data:se,scale:!0,boundaryGap:!1,axisLine:ce,axisTick:Lt,splitLine:Lt,axisLabel:Lt,min:ue,max:de}]),yAxis:(pe=(me={dataType:C,digit:d}).dataType,he=me.digit,[{scale:!0,axisTick:Lt,axisLabel:{formatter:function(e){return r(e,pe,he)}}},{scale:!0,gridIndex:1,splitNumber:2,axisLine:Lt,axisTick:Lt,splitLine:Lt,axisLabel:Lt}]),dataZoom:_e,series:(ve=(fe={values:R,volumes:$,upColor:V,downColor:T,showMA:S,MA:x,showVol:A,labelMap:f,digit:d,itemStyle:m}).values,ye=fe.volumes,be=fe.upColor,xe=fe.downColor,ge=fe.showMA,Se=fe.MA,we=fe.showVol,Ae=fe.labelMap,Oe=fe.digit,Me=fe.itemStyle||{normal:{color:be,color0:xe,borderColor:null,borderColor0:null}},je={normal:{opacity:.5}},Te=[{name:null==Ae[Vt]?Vt:Ae[Vt],type:"candlestick",data:ve,itemStyle:Me}],ge&&Se.forEach(function(e){var t,i,a,n,r="MA"+e;Te.push({name:null==Ae[r]?r:Ae[r],data:(t=e,i=ve,a=Oe,n=[],i.forEach(function(e,r){if(r<t)n.push("-");else{for(var o=0,s=0;s<t;s++)o+=i[r-s][1];n.push(+(o/t).toFixed(a))}}),n),type:"line",lineStyle:je,smooth:!0})}),we&&Te.push({name:"Volume",type:"bar",xAxisIndex:1,yAxisIndex:1,data:ye}),Te),axisPointer:{link:{xAxisIndex:"all"}}}},kt={name:"VeCandle",mixins:[Ye],created:function(){this.chartHandler=_t,this.echartsLib=e}};var Et=function(e,t,i,a){var n,o,s,l,c,u,d,m,p,h,v,y,b,x=i.dimension,g=void 0===x?e[0]:x,S=i.metrics,w=void 0===S?e[1]:S,A=i.digit,O=void 0===A?2:A,M=i.dataType,j=void 0===M?{}:M,T=i.labelMap,N=void 0===T?{}:T,V=i.seriesMap,L=void 0===V?{}:V,_=i.dataName,k=void 0===_?{}:_,E=a.tooltipFormatter;return{tooltip:a.tooltipVisible&&(o=(n={tooltipFormatter:E,dataType:j}).tooltipFormatter,s=n.dataType,l=n.digit,{formatter:function(e){var t=e.seriesName,i=e.data,a=i.value,n=i.name;if(o)return o.apply(null,arguments);var c=[];return c.push(t+": "),c.push(r(a,s[t],l)+" "+n),c.join("")}}),series:(u=(c={rows:t,dimension:g,metrics:w,digit:O,dataType:j,labelMap:N,seriesMap:L,dataName:k}).rows,d=c.dimension,m=c.metrics,p=c.digit,h=c.dataType,v=c.labelMap,y=c.seriesMap,b=c.dataName,u.map(function(e){var t=e[d],i=y[t],a={type:"gauge",name:null!=v[t]?v[t]:t,data:[{name:b[t]||"",value:e[m]}],detail:{formatter:function(e){return r(e,h[t],p)}},axisLabel:{formatter:function(e){return r(e,h[t],p)}}};return i&&Object.keys(i).forEach(function(e){f(a[e])?ze(a[e],i[e]):a[e]=i[e]}),a}))}},Ct={name:"VeGauge",mixins:[Ye],created:function(){this.chartHandler=Et,this.echartsLib=e}},zt=[Je,Xe,Ue,at,nt,ot,lt,ut,dt,ht,vt,bt,gt,{name:"VeHeatmap",mixins:[Ye],created:function(){this.chartHandler=Ot,this.echartsLib=e}},Tt,kt,Ct];function Ht(e,t){zt.forEach(function(t){e.component(t.name,t)})}return"undefined"!=typeof window&&window.Vue&&Ht(window.Vue),{VeBar:Je,VeHistogram:Xe,VeRing:nt,VeLine:Ue,VePie:at,VeWaterfall:ot,VeFunnel:lt,VeRadar:ut,VeChart:dt,VeMap:ht,VeBmap:vt,VeAmap:bt,VeSankey:gt,VeScatter:Tt,VeCandle:kt,VeGauge:Ct,install:Ht}});
